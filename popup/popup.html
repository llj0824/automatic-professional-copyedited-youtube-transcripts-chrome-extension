<!-- popup/popup.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transcript Professional</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <h1>Transcript Professional 📝💼</h1>
    <div class="tabs">
      <button class="tab-button active" data-tab="raw">Raw Transcript</button>
      <button class="tab-button" data-tab="processed">Processed</button>
      <button class="tab-button" data-tab="highlights">Highlights</button>
    </div>
    
    <!-- Tab Content Area -->
    <div id="raw" class="tab-content active">
      <div class="transcript-section" id="transcript-section">
        <div class="section-header">
          <h2>Raw Transcript</h2>
          <button id="reset-transcript-btn" class="action-btn small-btn">Reset</button>
        </div>
        <textarea id="transcript-display" readonly class="code-font"></textarea>
      </div>
      <!-- Pagination Controls -->
      <div class="pagination-controls">
        <button id="prev-btn" class="action-btn small-btn">&lt; Prev</button>
        <span id="page-info">Page 1 of 1</span>
        <button id="next-btn" class="action-btn small-btn">Next &gt;</button>
      </div>
      <div class="manual-load-section">
        <h3>Manual Transcript Load</h3>
        <textarea id="transcript-input" placeholder="Paste raw transcript here..."></textarea>
        <button id="load-transcript-btn" class="action-btn small-btn">Load Manual Transcript</button>
      </div>
      <div id="transcript-status-message"></div>
      <div id="existing-transcript-status-message"></div> 
    </div>

    <div id="processed" class="tab-content">
      <div class="processed-section" id="processed-section">
        <h2>Processed Transcript</h2>
        <textarea id="processed-display" readonly class="code-font"></textarea>
      </div>
      <div class="model-selection">
        <label for="model-select">Choose LLM:</label>
        <select id="model-select">
          <!-- Options will be loaded dynamically -->
        </select>
      </div>
      <div class="action-buttons">
        <button id="process-btn" class="action-btn">Process Current Page</button>
      </div>
    </div>

    <div id="highlights" class="tab-content">
      <h2>Highlights Generation</h2>
      <div class="processed-input-section">
        <h3>Processed Text (for Highlighting)</h3>
        <textarea id="highlight-processed" placeholder="Processed text from the 'Processed' tab will appear here..." class="code-font"></textarea>
      </div>
      <div class="action-buttons">
        <button id="generate-highlights-btn" class="action-btn">
          Generate Highlights 💎
        </button>
        <button id="push-to-twitter-btn" class="action-btn">
          Push to Twitter 🐦
        </button>
      </div>
      <!-- Simple Twitter Login Form (Initially Hidden) -->
      <div id="twitter-login-section" class="hidden twitter-login">
         <h4>Twitter Login Required</h4>
         <input type="text" id="twitter-username" placeholder="Twitter Username/Email" />
         <input type="password" id="twitter-password" placeholder="Twitter Password" />
         <button id="twitter-login-btn" class="action-btn">Login to Twitter</button>
         <p id="twitter-login-status" class="status-message"></p>
      </div>
      
      <!-- Results Section -->
      <div class="highlight-section" id="results-section">
        <div class="section-header">
          <h3>Generated Highlights</h3>
          <div class="font-size-controls">
            <button id="font-size-decrease" class="action-btn small-btn">A-</button>
            <button id="font-size-increase" class="action-btn small-btn">A+</button>
          </div>
        </div>
        <textarea id="highlight-results" placeholder="Highlights will appear here..." class="code-font"></textarea>
      </div>
    </div>

    <!-- Loader -->
    <div id="loader" class="loader hidden"></div>
  </div>
  <!-- Point to the bundled popup script relative to popup.html in dist -->
  <script src="popup.bundle.js" type="module"></script>
</body>

</html>

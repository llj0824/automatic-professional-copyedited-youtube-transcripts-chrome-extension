<!-- popup/popup.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Automatic YouTube Transcript Professional Editor</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <h2>Automatic YouTube Transcript Professional Editor</h2>

    <!-- Transcript Navigation -->
    <div id="transcript-section" class="hidden">
      <button id="prev-btn" disabled>&larr; </button>
      <span id="page-info">Page 1</span>
      <button id="next-btn" disabled> &rarr;</button>
    </div>

    <!-- Content Display with Tabs -->
    <div id="content-section">
      <div class="tabs">
        <button class="tab-button active" data-tab="raw">Raw Transcript</button>
        <button class="tab-button" data-tab="processed"> Professional </button>
        <button class="tab-button" data-tab="highlights"> Highlights </button>
      </div>
      <div class="font-controls">
        <button id="font-size-decrease" title="Decrease font size">A-</button>
        <button id="font-size-increase" title="Increase font size">A+</button>
      </div>
      <div class="tab-content" id="raw">
        <div class="content-header">
          <button class="copy-btn" data-target="transcript-display">📋 Copy Transcript</button>
          <button id="reset-transcript-btn" >🔄️ Reset Transcript</button>
        </div>
        <pre id="transcript-display">Loading transcript...</pre>
      </div>
      <div class="tab-content hidden" id="processed">
        <div class="content-header">
          <button class="copy-btn" data-target="processed-display">📋 Copy Transcript</button>
        </div>
        <pre id="processed-display">Professionally Caliber Transcript will appear here.</pre>
      </div>
      <div class="tab-content hidden" id="highlights">
        <div class="content-header">
          <button class="copy-btn" data-target="highlights-display">📋 Copy Highlights</button>
        </div>
        <pre id="highlights-display">Highlights will appear here.</pre>
      </div>
    </div>

    <!-- Actions -->
    <div id="actions">
      <button id="process-btn" class="action-btn"> Professional Transcript ✨ </button>
      <button id="generate-highlights-btn" class="action-btn hidden"> Generate Highlights 💎 </button>
      <div id="loader" class="hidden"></div>
    </div>

    <!-- API Key and Model Selection -->
    <div id="api-section" class="hidden">
      <h3>LLM Configuration</h3>
      <!-- Model Selection -->
      <div id="model-selection">
        <label for="model-select">Select LLM Model:</label>
        <select id="model-select">
          <option value="chatgpt-4o-latest" >OpenAI GPT-4o</option>
          <option value="gpt-4o-mini" selected>OpenAI GPT</option>
          <option value="claude-3-5-sonnet-20241022" hidden>Anthropic Claude 3.5 Sonnet</option>
          <!-- Add more models as needed -->
        </select>
      </div>
    </div>

    <!-- Transcript Input Section -->
    <div id="transcript-input-section" class="hidden">
      <h3>Load Transcript Manually</h3>
      <textarea id="transcript-input" placeholder="Paste your transcript here..." rows="5" cols="50"></textarea>
      <button id="load-transcript-btn">Load Transcript</button>
    </div>
    <!-- **End of Added Section** -->

  </div>

  <!-- Include JavaScript files as modules -->
  <script type="module" src="llm_api_utils.js"></script>
  <script type="module" src="storage_utils.js"></script>
  <script type="module" src="popup.js"></script>
  <script type="module" src="youtube_transcript_retrival.js"></script>
</body>

</html>
